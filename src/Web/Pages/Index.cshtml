@page "{portfolioId=kofoed}"
@using System.Globalization
@model Web.Pages.Index
@{
    ViewData["Title"] = "Index";
}

<div>
    <h1>Portfolio - @Model.Data.PortfolioId</h1>
    <div class="row spaced">
        <div class="col">
            <span class="label"> Value</span>
            <span class="big-number">@Model.Data.TotalValue.ToString("C", new CultureInfo("no-NO"))
        </div>
        <div class="col">
            <span class="label"> Profit</span>
            <span class="big-number">@Model.Data.TotalProfitValue.ToString("C", new CultureInfo("no-NO"))
                (@Model.Data.TotalProfit)
            </span>
        </div>
        <div class="col">
        </div>
        <div class="col">
        </div>
    </div>
    <table>
        <tr>
            <th>
                Name
            </th>
            <th>
                Amount
            </th>
            <th>
                Price
            </th>
            <th>
                Value
            </th>
            <th>
                Invested
            </th>
            <th>
                Profit
            </th>
            <th>
                Profit %
            </th>
        </tr>
        @foreach (var item in Model.Data.InvestmentStatuses.Values.OrderByDescending(x => x.Value))
        {
            <tr>
                <td>
                    @item.InvestmentId
                </td>
                <td>
                    @Math.Round(@item.Amount,2)
                </td>
                <td>
                    @item.Price.ToString("C", new CultureInfo("no-NO"))
                </td>
                <td>
                    @item.Value.ToString("C", new CultureInfo("no-NO"))
                </td>
                <td>
                    @item.Invested.ToString("C", new CultureInfo("no-NO"))
                </td>
                <td>
                    @item.ProfitValue.ToString("C", new CultureInfo("no-NO"))
                </td>
                <td>
                    @item.Profit
                </td>

            </tr>
        }
    </table>

    <hr />
    <h2>Distribution</h2>
    <div class="row">
        <span class="col">
            <table>

                @foreach (var item in Model.Data.ActualDistribution)
                {
                    <tr>
                        <td>
                            @item.Key
                        </td>
                        <td>
                            @item.Value.ToString()
                        </td>
                    </tr>
                }
            </table>
        </span>

        <span class="col">
            <table>

                @foreach (var item in Model.Data.DesiredDistribution)
                {
                    <tr>
                        <td>
                            @item.Key
                        </td>
                        <td>
                            @item.Value.ToString()
                        </td>
                    </tr>
                }
            </table>
        </span>

    </div>


</div>